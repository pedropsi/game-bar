var sourceCode="title Tiaradventur\nauthor Pedro PSI\nhomepage pedropsi.github.io\n(License: Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0))\n\n(last updated 28/12/2019)\n\nbackground_color #850026 (dark red)\ntext_color #FFAE09 (bright gold)\n\nyoutube ?listType=playlist&list=PLLmS63Y3VpxfdAf56-CJu0mb9qY7pqOuL&autoplay=1&loop=1# (ntGWv8F_ccM Whitesand - Legend of The King)\n\nrun_rules_on_level_start\n\nrealtime_interval 0.1\nkey_repeat_interval 0.1\nthrottle_movement (prevents player from moving too fast while wolves are on the run)\nnorepeat_action\n\nflickscreen 24x18\n\n(debug)\n(verbose_logging)\n\n(Palette\n-----------------\n\n#43240B (darkest brown)\n#944300 (dark brown)\n#B15000 (brown)\n#FF7809 (bright brown)\n\n#3C0A18 (darkest red)\n#850026 (dark red)\n#EF084A (bright red)\n#9F002D (red)\n#EE7598 (light red)\n\n\n#43300B (darkest gold)\n#FFAE09 (bright gold)\n\n#43300B (darkest yellow)\n#946300 (dark yellow)\n#FFFD09 (bright yellow)\n\n#213C0A (darkest green)\n#3E8400 (dark green)\n#4A9E00 (green)\n\n#072927 (darkest teal)\n#07C1BA (bright teal)\n#5CBBB7 (light teal)\n\n#BFCDCC (metal teal)\n\n#090228 (darkest blue)\n#064775 (dark blue)\n#2B24CF (bright blue)\n\n#360921 (darkest purple)\n#770041 (dark purple)\n\n#8F004E (pink)\n#E1087E (bright pink)  \n\nblack \n#1e1e1e (darkest gray)\n-----------------)\n\n========\nOBJECTS\n========\n\nBackground\nWHITE\n\nSoil\n#072927 (darkest teal)\n\nSoil1\n#213C0A (darkest green)\n....0\n.....\n..0.0\n...0.\n..0..\n\nSoil2\n#213C0A (darkest green)\n.....\n...0.\n.....\n.0...\n..0..\n\nSoil3\n#213C0A (darkest green)\n..0..\n0..0.\n.0...\n0....\n.....\n\nSoil4\n#213C0A (darkest green)\n.....\n.....\n....0\n.0...\n.....\n\nSoil5\n#213C0A (darkest green)\n.....\n...0.\n.....\n0....\n.....\n\n\nWall\n#9F002D (red) #850026 (dark red)\n00000\n10000\n11000\n11100\n11110\n\nWall1\nTRANSPARENT\nWall2\nTRANSPARENT  #9F002D (red)\n.....\n1....\n.....\n.....\n.....\n\nWall3\nTRANSPARENT  #9F002D (red)\n.....\n1....\n11...\n.11..\n..11.\n\nWall4\nTRANSPARENT #9F002D (red)\n.....\n1....\n.1...\n.....\n.....\n\nWall5\nTRANSPARENT #9F002D (red)\n.....\n1....\n.1...\n..1..\n.....\n\nWallTop1\nTRANSPARENT #9F002D (red)\n.....\n.....\n.....\n.....\n.111.\n\nWallTop2\nTRANSPARENT #9F002D (red)\n.....\n.....\n.....\n..11.\n.1111\n\nWallTop3\nTRANSPARENT #9F002D (red)\n.....\n.....\n.....\n.....\n.1111\n\nWallTop4\nTRANSPARENT \n\n(Tiara)\n(---------------------------------------------------)\n\nTiara \n#FFAE09 (bright gold) #FFFD09 (bright yellow) #07C1BA (bright teal)\n.....\n..2..\n.111.\n0...1\n.0.0.\n\nTiaraShine \n#5CBBB7 (light teal)\n.....\n..0..\n.....\n.....\n.....\n\nTiaraBroken  \n#FFAE09 (bright gold) #FFFD09 (bright yellow) #07C1BA (bright teal)\n.1...\n0..1.\n...12\n...0.\n.1...\n\n(Secret Ring)\n(---------------------------------------------------)\n\nRing \n#FFAE09 (bright gold) #FFFD09 (bright yellow)\n.111.\n1...1\n0...1\n0...0\n.000.\n\n\n(Characters)\n(---------------------------------------------------)\n\nPrincessTop\n#E1087E (bright pink) #EE7598 (light red) #8F004E (pink) #EF084A (bright red) #FF9703 (player orange) #FF8403 (pdayer orange)\n.....\n.....\n03...\n2344.\n.544.\n\nPrincess\n#E1087E (bright pink) #EE7598 (light red) #8F004E (pink) #EF084A (bright red) #FF9703 (player orange) #FF8403 (pdayer orange)\n.200.\n40004\n22000\n22220\n.....\n\nDressR\n#E1087E (bright pink) #EE7598 (light red) #8F004E (pink) #EF084A (bright red) #FF9703 (player orange) #FF8403 (pdayer orange)\n.....\n.....\n.....\n0....\n.....\n\nDressL\n#E1087E (bright pink) #EE7598 (light red) #8F004E (pink) #EF084A (bright red) #FF9703 (player orange) #FF8403 (pdayer orange)\n.....\n.....\n.....\n....2\n.....\n\nPlayerTop\n#FF9703 (player orange) #FF8403 (pdayer orange)\n.....\n.....\n.....\n.000.\n00000\n\nPlayer\n#FF9703 (player orange) #FF8403 (pdayer orange)\n10001\n.111.\n.1.1.\n.....\n.....\n\nWolf\n#BFCDCC (metal teal) #07C1BA (bright teal) black #1e1e1e (darkest gray)\n.....\n..1..\n.101.\n..1..\n.....\n\nWolfL\n#BFCDCC (metal teal) #07C1BA (bright teal) black #1e1e1e (darkest gray)\n...2.\n2212.\n00222\n..222\n.32.3\n\nWolfR\n#BFCDCC (metal teal) #07C1BA (bright teal) black #1e1e1e (darkest gray)\n.2...\n.2122\n22200\n222..\n0.20.\n\nWolfTailL \n#BFCDCC (metal teal) #07C1BA (bright teal) black #1e1e1e (darkest gray)\n.....\n.....\n222..\n2.22.\n2....\n\nWolfTailR\n#BFCDCC (metal teal) #07C1BA (bright teal) black #1e1e1e (darkest gray)\n.....\n.....\n..222\n.22.2\n....2\n\nWolfSleep\n#BFCDCC (metal teal) #07C1BA (bright teal) black #1e1e1e (darkest gray)\n.....\n.22..\n..122\n22222\n2222.\n\nWolfWake\ntransparent\n\n(Sword and swipes)\n(---------------------------------------------------)\n\nSword\n#FFAE09 (bright gold) #EF084A (bright red) #07C1BA (bright teal) #BFCDCC (metal teal)\n...33\n..332\n1332.\n.12..\n0.1..\n\nSwordShine1\nwhite \n....0\n.....\n.....\n.....\n.....\n\nSwordShine2\nwhite \n.....\n...0.\n.....\n.....\n.....\n\nSwordShine3\nwhite \n.....\n.....\n..0..\n.....\n.....\n\nSwordShine4\nTRANSPARENT\n\nSwordShine5\nTRANSPARENT\n\nSwordShine6\nTRANSPARENT\n\nSwordShine7\nTRANSPARENT\n\nSwordShine8\nTRANSPARENT\n\nSwordShine9\nTRANSPARENT\n\nSwordSwipeL\n#07C1BA (bright teal) #BFCDCC (metal teal)\n...0.\n..0..\n..1..\n..1..\n...1.\n\nSwordSwipeU\n#07C1BA (bright teal) #BFCDCC (metal teal)\n.....\n.011.\n0...1\n.....\n.....\n\nSwordSwipeR\n#07C1BA (bright teal) #BFCDCC (metal teal)\n.1...\n..1..\n..0..\n..0..\n.0...\n\nSwordSwipeD\n#07C1BA (bright teal) #BFCDCC (metal teal)\n1...0\n.000.\n.....\n.....\n.....\n\n(Crates and Boulders)\n(---------------------------------------------------)\n\nCrate\n#43240B (darkest brown) #944300 (dark brown) #B15000 (brown)\n12211\n11111\n00000\n00000\n00000\n\nCrate1\n#43240B (darkest brown) #944300 (dark brown) #B15000 (brown)\n.....\n.....\n.....\n11111\n11221\n\nCrateW (floating)\nTRANSPARENT\n\nCrateEmerging (underwater)\nTRANSPARENT\n\nCrateDestroy\n#43240B (darkest brown) #944300 (dark brown) #B15000 (brown) \n.....\n..2..\n.021.\n12211\n00110\n\nCrateDestroy2\nTRANSPARENT\n\nBoulder\n#360921 (darkest purple) #770041 (dark purple) #E1087E (bright purple) #DE6DAB (light purple)\n12233\n01222\n01122\n00111\n.000.\n\nBoulder1\n#360921 (darkest purple) #770041 (dark purple) #E1087E (bright purple) #DE6DAB (light purple)\n.....\n.....\n..3..\n.333.\n12333\n\n\n(\nBoulder\n#360921 (darkest purple) #770041 (dark purple) #E1087E (bright purple) #DE6DAB (light purple)\n.102.\n.102.\n.102.\n12132\n23233\n\nBoulder1\n#360921 (darkest purple) #770041 (dark purple) #E1087E (bright purple) #DE6DAB (light purple)\n.....\n.....\n.....\n23233\n12132\n)\n\n(Trees)\n(---------------------------------------------------)\n\n(each seed yields a random tree)\nSeed\n#213C0A (darkest green)\n\nTree\nTRANSPARENT\n\nTr\n#213C0A (darkest green) #3E8400 (dark green) #4A9E00 (green) #944300 (dark brown)\n..10.\n.231.\n.13..\n..11.\n..3..\n\nTre\n#213C0A (darkest green) #3E8400 (dark green) #4A9E00 (green) #944300 (dark brown)\n..00.\n...32\n..13.\n..20.\n.3...\n\nTreee\n#213C0A (darkest green) #3E8400 (dark green) #4A9E00 (green) #944300 (dark brown)\n.010.\n.2110\n.010.\n..0..\n..3..\n\nTreeee\n#213C0A (darkest green) #3E8400 (dark green) #4A9E00 (green) #944300 (dark brown)\n.122.\n11121\n02101\n10200\n.03..\n\nTreeeee\n#213C0A (darkest green) #3E8400 (dark green) #4A9E00 (green) #944300 (dark brown)\n.0111\n..000\n.2.3.\n2110.\n.03..\n\nTr1\n#213C0A (darkest green) #3E8400 (dark green) #4A9E00 (green)\n.212.\n01122\n12011\n.0010\n..00.\n\nTre1\n#213C0A (darkest green) #3E8400 (dark green) #4A9E00 (green)\n.22..\n2112.\n12021\n10110\n.001.\n\nTreee1\n#213C0A (darkest green) #3E8400 (dark green) #4A9E00 (green)\n.....\n.212.\n21010\n1011.\n.010.\n\nTreeee1\n#213C0A (darkest green) #3E8400 (dark green) #4A9E00 (green)\n.....\n.....\n.....\n..2..\n.110.\n\nTreeeee1\n#213C0A (darkest green) #3E8400 (dark green) #4A9E00 (green)\n...1.\n...2.\n..221\n..120\n.0010\n\n(Lamp)\n(---------------------------------------------------)\n\nLamp\n #43240B (darkest gold) #770041 (dark purple)\n11111\n.000.\n..0..\n..0..\n.111.\n\nLamp1\n#FFAE09 (bright gold) #FF7809 (bright brown) \n.....\n..0..\n.010.\n.010.\n..1..\n\nLamp2\n#FFAE09 (bright gold) #FF7809 (bright brown) \n.....\n.0...\n.00..\n.010.\n..1..\n\nLamp3\n#FFAE09 (bright gold) #FF7809 (bright brown) \n.....\n..0..\n.010.\n.010.\n..1..\n\nLamp4\n#FFAE09 (bright gold) #FF7809 (bright brown) \n.....\n..0..\n.010.\n.010.\n..1..\n\nLamp5\n#FFAE09 (bright gold) #FF7809 (bright brown) \n.....\n..0..\n.010.\n.010.\n..1..\n\nLamp6\n#FFAE09 (bright gold) #FF7809 (bright brown) \n.....\n...0.\n..00.\n.010.\n..1..\n\nLamp7\n#FFAE09 (bright gold) #FF7809 (bright brown) \n.....\n..0..\n.010.\n.010.\n..1..\n\nLamp8\n#FFAE09 (bright gold) #FF7809 (bright brown) \n.....\n..0..\n.010.\n.010.\n..1..\n\n(Flames)\n(---------------------------------------------------)\n\nFlame\nTRANSPARENT\n\nFla32\n#FFAE09 (bright gold) #FF7809 (bright brown) #FFFE5D (bright yellow)\n.....\n.....\n.....\n.....\n..2..\n\nFla22\n#FFAE09 (bright gold) #FF7809 (bright brown) #FFFE5D (bright yellow)\n.202.\n20002\n00100\n01120\n.0222\n\nFla12\n#FFAE09 (bright gold) #FF7809 (bright brown) #FFFE5D (bright yellow)\n..010\n.2010\n2020.\n010..\n.0...\n\nFla21\n#FFAE09 (bright gold) #FF7809 (bright brown) #FFFE5D (bright yellow)\n.....\n.....\n.....\n...2.\n..222\n\nFla11\n#FFAE09 (bright gold) #FF7809 (bright brown) #FFFE5D (bright yellow)\n..010\n.2010\n2020.\n010..\n.0...\n\nFla10\n#FFAE09 (bright gold) #FF7809 (bright brown) #FFFE5D (bright yellow)\n.....\n.2...\n202..\n010..\n.0...\n\n(Water)\n(---------------------------------------------------)\n\nWater\n#090228 (darkest blue)\n\nWSplash\n#064775 (dark blue) #090228 (darkest blue)\n.000.\n01110\n01010\n01110\n.000.\n\nW12\n#064775 (dark blue) #090228 (darkest blue)\n11111\n00111\n11111\n11111\n11010\n\nW22\n#064775 (dark blue) #090228 (darkest blue)\n11111\n10011\n11111\n11111\n11100\n\nW32\n#064775 (dark blue) #090228 (darkest blue)\n11111\n10101\n11111\n11111\n11110\n\nW42\n#064775 (dark blue) #090228 (darkest blue)\n11111\n11001\n11111\n11111\n10111\n\nW52\n#064775 (dark blue) #090228 (darkest blue)\n11111\n11101\n11111\n11111\n10011\n\n\n(Shore)\n(---------------------------------------------------)\n\nWLXU\n#090228 (darkest blue) #213C0A (darkest green)\n00...\n0....\n.....\n.....\n.....\n\nWLXD\n#090228 (darkest blue)\n.....\n.....\n.....\n0....\n00...\n\nWRXU\n#090228 (darkest blue)\n...00\n....0\n.....\n.....\n.....\n\nWRXD\n#090228 (darkest blue)\n.....\n.....\n.....\n....0\n...00\n\nSLXU\n#072927 (darkest teal)\n0....\n.....\n.....\n.....\n.....\n\nSLXD\n#072927 (darkest teal)\n.....\n.....\n.....\n.....\n0....\n\nSRXU\n#072927 (darkest teal)\n....0\n.....\n.....\n.....\n.....\n\nSRXD\n#072927 (darkest teal)\n.....\n.....\n.....\n.....\n....0\n\n\n(Floating crates)\n(---------------------------------------------------)\n\nCW1\n#43240B (darkest brown) #944300 (dark brown) #B15000 (brown)\n11111\n11221\n12211\n00000\n00000\n\nCW2\n#43240B (darkest brown) #944300 (dark brown) #B15000 (brown)\n11111\n11221\n12211\n00000\n00000\n\nCW3\n#43240B (darkest brown) #944300 (dark brown) #B15000 (brown)\n11111\n11221\n12211\n00000\n00000\n\nCW4\n#43240B (darkest brown) #944300 (dark brown) #B15000 (brown)\n.....\n11111\n11221\n12211\n00000\n\nCW5\n#43240B (darkest brown) #944300 (dark brown) #B15000 (brown)\n.....\n11111\n11221\n12211\n00000\n\nCW6\n#43240B (darkest brown) #944300 (dark brown) #B15000 (brown)\n.....\n11111\n11221\n12211\n00000\n\nCWeight (push down crate with something on top)\n#43240B (darkest brown) #944300 (dark brown) #B15000 (brown)\n.....\n.....\n11111\n11221\n12211\n\nCR (reverse animation)\nTRANSPARENT\n\n\n(Item storage areas)\n(---------------------------------------------------)\n\nStoragePlay -\n#3C0A18 (darkest red) \n\nStoragePrin =\n#3C0A18 (darkest red) \n\nStoragePicker\n#FF9703 (player orange) \n.....\n.....\n..0..\n.....\n.....\n\nStoragePickerPrin\n#E1087E (bright pink)\n.....\n.....\n..0..\n.....\n.....\n\n\n(Movement and pathfinding controls)\n(---------------------------------------------------)\n\n(block movement in 4 directions)\nFixedL\nblue\n.....\n.....\n00...\n.....\n.....\n\nFixedU\nblue\n..0..\n..0..\n.....\n.....\n.....\n\nFixedR\nblue\n.....\n.....\n...00\n.....\n.....\n\nFixedD\nblue\n.....\n.....\n.....\n..0..\n..0..\n\n(pathfinding)\n\nSeeing S\nTRANSPARENT\n\nSeeking\nTRANSPARENT\n\n(general purpose marker)\nOnce\nTRANSPARENT\nLast\nYELLOW\n\nMark _\ntransparent\n\n(whether a princess or wolf try to move this turn)\nTry\nBLUE\n\n(Escape route markers)\nEscapePath ;\nred\n.....\n.....\n.....\n...0.\n.....\nSeekPath ,\nBLUE\n.....\n.0...\n.....\n.....\n.....\nEscapeTarget\nwhite\n.....\n..0..\n.0.0.\n..0..\n.....\n\nTrapped\ntransparent gray\n\nTrappedBefore\ntransparent blue\n\nTrapFree\ntransparent white\n\nTrapBlock\ntransparent red\n\n(marks player for princess to defend)\nDefendTarget\nBLUE\n.....\n.0.0.\n.....\n.0.0.\n.....\n\nDefended\nTRANSPARENT\n\n(marks player for princess to follow)\nFollowTarget\nlightgreen\n..0..\n.....\n0...0\n.....\n..0..\n\n(where can a princess run if trapped by wolves, or wolves by a sword)\nSafefloor\nTRANSPARENT\n\n(whether a human is reachable by wolves)\nUnsafe\nTRANSPARENT\n\n(how the tiara came to the princess?) \nUnsafelyGiven\nTRANSPARENT\nUnsafelyFound\nTRANSPARENT\nGiven\nTRANSPARENT\nFound\nTRANSPARENT\n\n(now the tiara came to the princess!) \nNextTiara\nTRANSPARENT\n\n\n(marker for character bitten by wolf)\nBitten\nTRANSPARENT\n\n(markers for last player moving direction)\nML\nTRANSPARENT\nMU\nTRANSPARENT\nMR\nTRANSPARENT\nMD\nTRANSPARENT\nSwiper\nTRANSPARENT\nThreat\nTRANSPARENT\n\n\n(Dialog flow)\n(---------------------------------------------------)\nSwordWarn1\nTRANSPARENT\nSwordWarn2\nTRANSPARENT\n\nWarnBurn\nTRANSPARENT\nWarnSwim\nTRANSPARENT\n\nTalk\nTRANSPARENT\nTalkNervous\nTRANSPARENT\nTalkSword\nTRANSPARENT\nTalkWin\nTRANSPARENT\n\nRead\ntransparent\n\nIntro\ntransparent \nConclu \ntransparent\n\nStory1\ntransparent \nStory2\ntransparent \nStory3\nTRANSPARENT\nStory4\nTRANSPARENT\nStory5\ntransparent \nStory6\ntransparent\nStory7\nTRANSPARENT\nStory8\nTRANSPARENT\nStory9\nTRANSPARENT\n\nDialog1\ntransparent \nDialog2\ntransparent \nDialog3\nTRANSPARENT\nDialog4\nTRANSPARENT\nDialog5\nTRANSPARENT\nDialog6\nTRANSPARENT\nDialog7\nTRANSPARENT\n\n(Game Win or restart)\n(---------------------------------------------------)\n\nRestartWall\n#9F002D (red) #850026 (dark red)\n00000\n10000\n11000\n11100\n11110\n\nFakeWallStor\n#850026 (dark red)\n\nTalkWall\n#850026 (dark red)\n\nWinWall\n#FFAE09 (bright gold) #FF7809 (bright brown) \n00000\n10000\n11000\n11100\n11110\n\nSaveWall\n#FFAE09 (bright gold)\n\nWinGame\nTRANSPARENT\n\nEndGame\nTRANSPARENT\n\nRestartLevel\ntransparent\n\nStartGame $\ntransparent\n\n(Master control)\n(---------------------------------------------------)\n\nAllowMove\nTRANSPARENT\n\nInCurrentMap\ntransparent\n\nAllowAnimation\ntransparent\n\nMapBoundary\nTRANSPARENT\n\nMapBoundaryCorner\nTRANSPARENT\n\nTickPlayer \"\ntransparent (yellow\n.....\n....1\n....1\n....1\n.....)\n\nTickTime '\ntransparent (blue\n.....\n....1\n....1\n....1\n.....)\n\nSlowdown\ntransparent\n\n(Tiara Counting)\n(---------------------------------------------------)\nPlusOne +\ntransparent\n\nT0\ntransparent\nT1\ntransparent\nT2\ntransparent\nT3\ntransparent\nT4\ntransparent\nT5\ntransparent\nT6\ntransparent\nT7\ntransparent\n\nTB0\ntransparent\nTB1\ntransparent\nTB2\ntransparent\nTB3\ntransparent\nTB4\ntransparent\nTB5\ntransparent\nTB6\ntransparent\nTB7\ntransparent\n\n\n(Level Linking)\n(---------------------------------------------------)\n\nWarpDepart\ntransparent\nWarpArrive\ntransparent\n\n\nWarp1\ntransparent\nWarp2\ntransparent\nWarp3\nTRANSPARENT\nWarp4\nTRANSPARENT\nWarp5\nTRANSPARENT\nWarp6\nTRANSPARENT\nWarp7\nTRANSPARENT\nWarp8\nTRANSPARENT\nWarp9\nTRANSPARENT\n\nWarpPicker\ntransparent\n\nWarpHoriz\ntransparent\nWarpVerti\ntransparent\n\nWarpNew\ntransparent\n\n(call princess to next area)\nBeckon\nTRANSPARENT\nEscaping\nTRANSPARENT\n\n(save game)\nSaved\ntransparent\nSave\nTRANSPARENT\n\n\n=======\nLEGEND\n=======\n\n(Map abbreviations)\n(---------------------------------------------------)\n. = Soil and StartGame\n~ = Water and StartGame \n# = Wall and StartGame\n\n% =  Boulder and Soil and StartGame and Slowdown\n« = Soil and StartGame and Slowdown\n\n? =  T0 and Wall and StartGame \n§ = TB0 and Wall and StartGame\n\n.# = Soil  or Wall       (inner shore)\nW# = Water or Wall       (outer shore)\n\nP = Player and Soil and StartGame and TickTime\nR = Princess and Soil and StartGame\nF = WolfSleep and Soil and StartGame\n\nO = Crate and Soil and StartGame              \nÕ = CrateW and Water and StartGame            (floating crate)\nÖ = CrateW and Crate and Water and StartGame  (crate on top of floating crate)\n(Ó = Crate and Flame and Soil and StartGame    burning crate)\n\nD = Boulder and Soil and StartGame\nL = Lamp and Soil and StartGame\n\nT = Soil and Seed and StartGame            (a random tree)\nY = Soil and Tree and Treeee and StartGame (a small tree, non random)\n\nX = WarpDepart and Soil  and StartGame and WarpNew\n* = WarpArrive and Soil  and StartGame and WarpNew\n\nB = Beckon and Background and Soil and StartGame  (the princess goes there)\n\nA = Tiara and Soil and StartGame\nQ = Ring and Soil and StartGame and NextTiara  (no tiara in area with ring)\nZ = Sword and Soil and StartGame\n\n(Graphics and Animation)\n(---------------------------------------------------)\n\nTreeType = Tr or Tre or Treee or Treeee or Treeeee\nTree1 = Tr1 or Tre1 or Treee1 or Treeee1 or Treeeee1\n\nLamps1 = Lamp1 or Lamp2 or Lamp3 or Lamp4 or Lamp5 or Lamp6 or lamp7 or Lamp8\n\nWallTop=Walltop1 or WallTop2 or WallTop3 or WallTop4\n\nDress=DressL or DressR\nWolfTail = WolfTailL or WolfTailR \n\nOver1 = Crate1 or Boulder1 or Tree1 or PlayerTop or PrincessTop\n\nWallOver= Wall1 or Wall2 or Wall3 or Wall4 or Wall5\nSoilOver= Soil1 or Soil2 or Soil3 or Soil4 or Soil5\n\nCW = CW1 or CW2 or CW3 or CW4 or CW5 or CW6 or CWeight\n\nW = W12 or W22 or W32 or W42 or W52\n\nWX = WLXU or WLXD or WRXU or WRXD\nWXL = WLXU or WLXD\nWXU = WLXU or WRXU\nWXR = WRXU or WRXD\nWXD = WLXD or WRXD\n\nSX = SLXU or SLXD or SRXU or SRXD\nSXL = SLXU or SLXD\nSXU = SLXU or SRXU\nSXR = SRXU or SRXD\nSXD = SLXD or SRXD\n\nAnimWater = W\nAnimCrate = CW\n\nReverse = CR\n\nSwordShine = SwordShine1 or SwordShine2 or SwordShine3 or SwordShine4 or SwordShine5 or SwordShine6 or SwordShine7 or SwordShine8 or SwordShine9\nAnimPickable = TiaraShine or SwordShine\n\nSwordSwipe = SwordSwipeL or SwordSwipeU or SwordSwipeR or SwordSwipeD\n\nLastMoveDirection = ML or MU or MR or MD\n\n(Game Logic)\n(---------------------------------------------------)\n\nStorage = StoragePlay or StoragePrin\nFixed = FixedL or FixedR or FixedU or FixedD \n\nHuman = Player or Princess \nWolfType = WolfL or WolfR\nCharacter = Human or Wolf\nFearful = Princess or Wolf \n\nSeekable = Human\n\nFloater = CrateW or CrateEmerging\nTiaras = Tiara or TiaraBroken\nPickable = Tiaras or Sword or Ring\n\nUnbreakable = Boulder or Lamp\n\nPushable = Crate or Boulder or Lamp\nUnPushable = Wall or Tree\nPusher = Character or Pushable\n\nMover = Pusher or Pickable\n\nPushFlammmable = Tree\nFlammmable = PushFlammmable or Crate or CrateW or CrateDestroy\nFlamer = Lamp\nContactFlamer = Fla11 or Fla12\n\nWeight = Character or Lamp or Lamp or Pickable or Character\nSinkable = Character or Boulder or Lamp or Pickable\n\nItem = Character or UnPushable or Pushable\nTypes = WolfType or TreeType\n\nOvers = Over1 or Lamps1 or WallTop\n\nOverFlame1 = Fla10 or Fla11 or Fla12\nOverFlame2 = Fla21 or Fla22\nOverFlame3 = Fla32\n\nFlameAny = Flame or OverFlame1\n\nWarpable = Character or Pushable or Flame\n\nDanger = Flame or SwordSwipe\n\nFloor = Floater or Soil\n\nSafely = Given or Found\nUnsafely = UnsafelyGiven or UnsafelyFound\nTiaraHandling = Unsafely or Safely or NextTiara\n\n\n(Story and dialogue)\n(---------------------------------------------------)\n\nWarnings = SwordWarn1 or SwordWarn2 or WarnBurn or WarnSwim\n\nDialog = Dialog1 or Dialog2 or Dialog3 or Dialog4 or Dialog5 or Dialog6 or Dialog7\n\nStory = Story1 or Story2 or Story3 or Story4 or Story5 or Story6 or Story7 or Story8 or Story9\n\n1 = Story1 and Intro and Soil and StartGame\n2 = Story2 and Intro and Soil and StartGame\n3 = Story3 and Intro and Soil and StartGame\n4 = Story4 and Intro and Soil and StartGame\n5 = Story5 and Intro and Soil and StartGame\n6 = Story6 and Intro and Soil and StartGame\n7 = Story7 and Intro and Soil and StartGame\n8 = Story8 and Intro and Soil and StartGame\n9 = Story9 and Intro and Soil and StartGame\n\nC = Conclu and Soil and StartGame\n\nPlot = Intro or Conclu\nTalks = Talk or TalkNervous or TalkSword or TalkWin\n\nDialogMarkers = Dialog or Plot\n\n(Master control)\n(---------------------------------------------------)\n \n» = AllowAnimation\n@ = InCurrentMap\n\nAllowances = AllowMove or AllowAnimation\n\nGameControl = RestartLevel or WinGame\n\n\nWarpReferences = Warp1 or Warp2 or Warp3 or Warp4 or Warp5 or Warp6 or Warp7 or Warp8 or Warp9\n\nWarps = WarpDepart or WarpArrive\nWarpDir = WarpHoriz or WarpVerti\n\n\n\\ = MapBoundaryCorner and Wall and StartGame and MapBoundary (level boundary)\n\n\nTiaraCounters = T0 or T1 or T2 or T3 or T4 or T5 or T6 or T7\nTiaraBrokenCounters = TB0 or TB1 or TB2 or TB3 or TB4 or TB5 or TB6 or TB7\n\nTC = TiaraCounters\nTBC = TiaraBrokenCounters\n\nFakeWall = WinWall or RestartWall\n\nSavings = Save or Saved\n\n\n(Pathfinding)\n(---------------------------------------------------)\n\nPath = EscapePath or SeekPath\n! = Unsafe\n\nClearRoute= Once or Path or Seeking or S or _\n\nBarrierPass = Item or Flame or Warps\nBarrierWolfTerritory = BarrierPass or SeekPath\nBarrierWolfPrinTerritory = BarrierWolfTerritory or EscapePath or Trapped\n\nBarrierPassThroughPrin = Wolf or Player or UnPushable or Pushable or Flame or Warps\n\nBarrierWolfSeek = Wolf or UnPushable or Pushable or Flame or Warps\n\nBarrierWolfEscape = Wolf or UnPushable or Pushable or Danger or Warps\nBarrierPrin = Human or UnPushable or Flame or Warps\n\n\nSwipeBlockExPrin = Player or UnPushable or Unbreakable\nSwipeBlock = Human or UnPushable or Pushable\n\nTarget = FollowTarget or EscapeTarget or DefendTarget    (where to?)\n\n\n=======\nSOUNDS\n=======\n\n================\nCOLLISIONLAYERS\n================\nBackground\n\nSoil\nSoilOver\n\nWater\nAnimWater\nWLXU\nWLXD\nWRXU\nWRXD\n\nSLXU\nSLXD\nSRXU\nSRXD\n\nWSplash\nAnimCrate\nReverse\n\nSeed\n\nFloater\n\nStorage\nPickable\nStoragePicker\nStoragePickerPrin\nAnimPickable\n\nDress\nWolfTail\n\nItem\nTypes\n\nWallOver\nSwordSwipe\n\nCrateDestroy,CrateDestroy2\nOvers\n\nFlame\nOverFlame1\nOverFlame2\nOverFlame3\n\n\nFixedL\nFixedU\nFixedR\nFixedD\n\nGameControl\nEndGame\n\n\nOnce\nLast\nMark\n\nWolfSleep\nWolfWake\n\nSeeing\nSeeking\nSafeFloor\nTry\n\nEscapePath\nSeekPath\n\nTrappedBefore\nTrapFree\nTrapBlock\nTrapped\n\nEscapeTarget\nDefendTarget\nFollowTarget\n\nDefended\nUnsafe\n\nBitten\n\nSwiper\nThreat\nWarnings\n\nTiaraHandling\n\nTalks\nRead\nPlot\nStory\nDialog\n\nLastMoveDirection\nAllowMove\nAllowAnimation\n\nTickTime, TickPlayer\n\nMapBoundaryCorner\nMapBoundary\nInCurrentMap\n\nWarpReferences\nWarps\nWarpPicker\nWarpDir\nWarpNew\n\nBeckon\nSavings\nEscaping\n\nTiaraCounters, TiaraBrokenCounters\nPlusOne\n\nFakeWallStor\nFakeWall\nTalkWall, SaveWall\n\nStartGame\nSlowdown\n\n======\nRULES\n======\n\n\n(Map Warping)\n(---------------------------------------------------)\n(---------------------------------------------------)\n\n(initialise Warps at marked spots)\n(---------------------------------------------------)\n[Warps]->[Warps _]\n[Story1|_]->[Warp1 _ no DialogMarkers| _]\n[Story2|_]->[Warp2 _ no DialogMarkers| _]\n[Story3|_]->[Warp3 _ no DialogMarkers| _]\n[Story4|_]->[Warp4 _ no DialogMarkers| _]\n[Story5|_]->[Warp5 _ no DialogMarkers| _]\n[Story6|_]->[Warp6 _ no DialogMarkers| _]\n[Story7|_]->[Warp7 _ no DialogMarkers| _]\n[Story8|_]->[Warp8 _ no DialogMarkers| _]\n[Story9|_]->[Warp9 _ no DialogMarkers| _]\n[Warps |_ no Warps]->[Warps| _ Warps WarpNew]\n\n[WarpReferences|_ no WarpReferences]->[WarpReferences |_ WarpReferences]\n[_]->[]\n\n(synchronise Warping areas of variable geometry)\n(---------------------------------------------------)\n[WarpPicker]->[]\n[Warpable]->[Warpable _]\n[Warp1 _][Warp1]->[Warp1 _][Warp1 WarpPicker]\n[Warp2 _][Warp2]->[Warp2 _][Warp2 WarpPicker]\n[Warp3 _][Warp3]->[Warp3 _][Warp3 WarpPicker]\n[Warp4 _][Warp4]->[Warp4 _][Warp4 WarpPicker]\n[Warp5 _][Warp5]->[Warp5 _][Warp5 WarpPicker]\n[Warp6 _][Warp6]->[Warp6 _][Warp6 WarpPicker]\n[Warp7 _][Warp7]->[Warp7 _][Warp7 WarpPicker]\n[Warp8 _][Warp8]->[Warp8 _][Warp8 WarpPicker]\n[Warp9 _][Warp9]->[Warp9 _][Warp9 WarpPicker]\n[_]->[]\ndown [WarpPicker|WarpPicker]->[|WarpPicker]\nright[WarpPicker|WarpPicker]->[|WarpPicker]\n\nrandom [WarpPicker]->[WarpPicker Once]\n\nstartloop\n[WarpPicker Warpable][Once]->[WarpPicker Warpable][]\n\nup   [WarpPicker no try|Warps][Once]->[|WarpPicker Try Warps][Once]\nup   [WarpPicker no try|Warps][Once]->[|WarpPicker Try Warps][Once]\n\nleft [WarpPicker no try|Warps][Once]->[|WarpPicker Try Warps][Once]\nleft [WarpPicker no try|Warps][Once]->[|WarpPicker Try Warps][Once]\n\n[Try]->[]\nendloop\n[Once]->[]\n\n\n(Warp Warpables around the map)\n(---------------------------------------------------)\n[NextTiara @][Princess|Player Warps]->[NextTiara @][> Princess| Player Warps] \n\n(Warp everything else)\n\n[moving Human Warps]->[stationary Human Warps]\n\nhorizontal [WarpDepart|WarpDepart]->[WarpDepart WarpHoriz|WarpDepart WarpHoriz]\nvertical   [WarpDepart|WarpDepart]->[WarpDepart WarpVerti|WarpDepart WarpVerti]\nhorizontal [WarpArrive|WarpArrive]->[WarpArrive WarpHoriz|WarpArrive WarpHoriz]\nvertical   [WarpArrive|WarpArrive]->[WarpArrive WarpVerti|WarpArrive WarpVerti]\n\n[stationary Warpable WarpDepart WarpPicker WarpHoriz][WarpPicker no Warpable WarpArrive WarpHoriz]->[WarpDepart WarpPicker WarpHoriz no WarpNew][WarpPicker up   Warpable WarpArrive WarpHoriz no WarpNew]\n[stationary Warpable WarpArrive WarpPicker WarpHoriz][WarpPicker no Warpable WarpDepart WarpHoriz]->[WarpArrive WarpPicker WarpHoriz no WarpNew][WarpPicker down Warpable WarpDepart WarpHoriz no WarpNew]\n\n[stationary Warpable WarpDepart WarpPicker WarpVerti][WarpPicker no Warpable WarpArrive WarpVerti]->[WarpDepart WarpPicker WarpVerti no WarpNew][WarpPicker right Warpable WarpArrive WarpVerti no WarpNew]\n[stationary Warpable WarpArrive WarpPicker WarpVerti][WarpPicker no Warpable WarpDepart WarpVerti]->[WarpArrive WarpPicker WarpVerti no WarpNew][WarpPicker left  Warpable WarpDepart WarpVerti no WarpNew]\n\n[WarpNew WarpDepart|WarpDepart no WarpNew]->[WarpDepart|WarpDepart]\n[WarpNew WarpArrive|WarpArrive no WarpNew]->[WarpArrive|WarpArrive]\n\n[> Princess Warps|Player no Warps]->[> Princess Warps|> Player] (princess leaves warps)\n\n\n(Master Control)\n(---------------------------------------------------)\n(---------------------------------------------------)\n[MapBoundaryCorner StartGame|...| no MapBoundary StartGame]->[MapBoundaryCorner StartGame|...| MapBoundary StartGame]\n\n(Level Map Boundary)\n(---------------------------------------------------)\n(picker area colour)\n[Storage|#]->[Storage|# FakeWallStor]\nhorizontal [FakeWallStor|#]->[FakeWallStor|# FakeWallStor]\n\n(mark area in current level)\n[@]->[]\n[Player]->[Player @]\n[@|no @ no MapBoundary]->[@|@] (FakeWallStor)\n\n\n(Character movement control)\n(---------------------------------------------------)\n[AllowMove]->[]\n\n[stationary Player][\"]->[stationary Player][']\n[moving     Player][\"]->[moving     Player][']\n\n[moving     Player][']->[moving     Player][\"]\n[action     Player][']->[action     Player][\"]\n\n[\"][Character]->[\"][AllowMove Character]\n\n(this is a patch to prevend a bug in the lst level, when the player moves too fast and the princess becomes trapped)\n[\"][Slowdown Player][AllowMove Character no Player]->[\"][Slowdown Player][Character no Player]\n[\"][Slowdown Player]->[\"][Player]\n\n\n(Animation control)\n(---------------------------------------------------)\n[»]->[]\n['][@] -> ['][@ »]\n\n(Freeze all when restarting or winning)\n(---------------------------------------------------)\n[GameControl][Allowances]->[GameControl][]\n\n\n(Register last player move direction)\n(---------------------------------------------------)\n[LastMoveDirection no Character]->[]\nleft [left  Player]->[left  Player left  ML]\nup   [up    Player]->[up    Player up    MU]\nright[right Player]->[right Player right MR]\ndown [down  Player]->[down  Player down  MD]\n\n(Player Sword Swipe on action)\n(---------------------------------------------------)\n[SwordSwipe]->[]\nleft  [action Player Swiper ML|no SwipeBlockExPrin]->[action Player ML|SwordSwipeL]\nup    [action Player Swiper MU|no SwipeBlockExPrin]->[action Player MU|SwordSwipeU]\nright [action Player Swiper MR|no SwipeBlockExPrin]->[action Player MR|SwordSwipeR]\ndown  [action Player Swiper MD|no SwipeBlockExPrin]->[action Player MD|SwordSwipeD]\n\n\n\n(Pickable Storage)\n(---------------------------------------------------)\n(---------------------------------------------------)\n\n(Place Picker at first available position)\n[Storage|no Storage no Wall]->[Storage|Storage]\n\n[StoragePicker]->[]\n[Storage]->[Storage StoragePicker]\n\ndown [StoragePicker|StoragePicker]->[|StoragePicker]\nright[StoragePicker|StoragePicker]->[|StoragePicker]\nup   [StoragePicker|Storage no Pickable]->[|StoragePicker Storage]\nleft [StoragePicker|Storage no Pickable]->[|StoragePicker Storage]\n\n(Player Picks Special Items)\n[Player Ring][StoragePlay StoragePicker no Pickable]->[Player Ring][StoragePlay  Ring] message \"A beautiful ring!\"\n[Player Sword][StoragePlay StoragePicker no Pickable][Story6 Read @]->[Player Sword TalkSword][StoragePlay StoragePicker Sword][Story6 Dialog1 Read @]\n\n(Player Picks)\n[Player Pickable][StoragePlay StoragePicker no Pickable]->[Player Pickable][StoragePlay  Pickable]\n[Player Pickable]->[Player]\n\n(Princess Picks, Tiara is special)\n[Princess Tiaras][StoragePrin StoragePicker no Pickable]->[Princess Tiaras][StoragePrin  Tiaras Found]\n[Princess Pickable][StoragePrin StoragePicker no Pickable]->[Princess Pickable][StoragePrin  Pickable]\n\n[Princess Pickable]->[Princess]\n\n(reduce to one mark)\nrandom[Found]->[Found _]\n[Found no _]->[]\n[_]->[]\n\n\n(colour princess picker differently)\n[StoragePickerPrin]->[]\n[StoragePicker StoragePrin]->[StoragePicker StoragePickerPrin StoragePrin]\n\n\n(Place Pickables at the leftmost spot)\nright [Storage no Pickable|Storage Pickable]->[Storage Pickable|Storage ]\n\n\n(Hand Tiaras to Princess)\n(---------------------------------------------------)\n[StoragePlay Tiaras no Given][StoragePrin StoragePicker no Pickable][Player|Princess]->[StoragePlay Tiaras Given][StoragePrin Tiaras Given][Player|Princess]\n[StoragePlay Tiaras Given]->[StoragePlay]\n\n(reduce to one mark)\nrandom[Given]->[Given _]\n[Given no _]->[]\n[_]->[]\n\n(TiaraCounter)\n(---------------------------------------------------)\n([Tiaras +][Tiaras +]->[Tiaras +][Tiaras])\n\n[Tiara       +][TiaraCounters]->      [Tiara      ][TiaraCounters +]\n[TiaraBroken +][TiaraBrokenCounters]->[TiaraBroken][TiaraBrokenCounters +]\n\n[TiaraCounters no +][TiaraBrokenCounters +]->[TiaraCounters +][TiaraBrokenCounters +]\n\n[T0 +]->[T1]\n[T1 +]->[T2]\n[T2 +]->[T3]\n[T3 +]->[T4]\n[T4 +]->[T5]\n[T5 +]->[T6]\n[T6 +][Player][Princess @]->[T7][Player][Princess WinGame @]\n\n[TB0 +]->[TB1]\n[TB1 +]->[TB2]\n[TB2 +]->[TB3]\n[TB3 +]->[TB4]\n[TB4 +]->[TB5]\n[TB5 +]->[TB6]\n[TB6 +]->[TB7]\n\n(Princess Dialogue)\n(---------------------------------------------------)\n(---------------------------------------------------)\n\n(Dialogue - Retrieving Tiara)\n(---------------------------------------------------)\n[Unsafe no Princess @][Princess no Unsafe @]->[][Princess Unsafe @]\n\n[StoragePrin Tiara       Found][Princess no Unsafe @]->[StoragePrin Tiara       +][NextTiara @ Princess] message Found my precious Tiara!\n[StoragePrin TiaraBroken Found][Princess no Unsafe @]->[StoragePrin TiaraBroken +][NextTiara @ Princess] message It's a disgrace! Torn to pieces...\n\n[StoragePrin Tiara       Found][Princess    Unsafe @]->[StoragePrin Tiara       UnsafelyFound][Princess Unsafe @] message Got my Tiara, but the wolf is chasing me!\n[StoragePrin TiaraBroken Found][Princess    Unsafe @]->[StoragePrin TiaraBroken UnsafelyFound][Princess Unsafe @] message My Tiara may be in pieces... but I won't!\n\n[StoragePrin Tiara       Given][Princess no Unsafe @]->[StoragePrin Tiara       +][NextTiara @ Princess] message You found my Tiara! Thank you!\n[StoragePrin TiaraBroken Given][Princess no Unsafe @]->[StoragePrin TiaraBroken +][NextTiara @ Princess] message You found my Tiara... smashed?! Better than nothing.\n\n[StoragePrin Tiara       Given][Princess    Unsafe @]->[StoragePrin Tiara       UnsafelyGiven][Princess Unsafe @] message Forget the perfect Tiara, wolves are chasing us!\n[StoragePrin TiaraBroken Given][Princess    Unsafe @]->[StoragePrin TiaraBroken UnsafelyGiven][Princess Unsafe @] message Since you failed to protect the Tiara could you at least protect me from the wolves?\n\n\n\n[Princess no Unsafe @][StoragePrin Tiara       UnsafelyGiven]->[NextTiara Princess @][StoragePrin Tiara       +] message Now we're safe... aren't we?\n[Princess no Unsafe @][StoragePrin Tiara       UnsafelyFound]->[NextTiara Princess @][StoragePrin Tiara       +] message Now we're safe... aren't we?\n\n[Princess no Unsafe @][StoragePrin TiaraBroken UnsafelyGiven]->[NextTiara Princess @][StoragePrin TiaraBroken +] message Finaly, we're all safe. Except my  broken Tiara...\n[Princess no Unsafe @][StoragePrin TiaraBroken UnsafelyFound]->[NextTiara Princess @][StoragePrin TiaraBroken +] message Finaly, we're all safe. Except my  broken Tiara...\n\n\n(Dialogue - Retrieving Sword)\n(---------------------------------------------------)\n\n[TalkSword]->[TalkSword Once]\n\n[TalkSword Once][Story6 Read Dialog1 @]->[TalkSword][Story6 Read Dialog2 @] message You found my father's stashed sword!\n[TalkSword Once][Story6 Read Dialog2 @]->[TalkSword][Story6 Read Dialog3 @] message Wolves won't dare biting a swordholder.\n[TalkSword Once][Story6 Read Dialog3 @]->[TalkSword][Story6 Read Dialog4 @] message Wait... have you never held a sword before?\n[TalkSword Once][Story6 Read Dialog3 @]->[TalkSword][Story6 Read Dialog4 @] message You can practise with those crates.\n[TalkSword Once][Story6 Read Dialog4 @]->[][Story6 Read Dialog1 @] message Just let your in-x-tinct guide you!\n\n[Once]->[]\n\n(Warnings)\n(---------------------------------------------------)\n[WarnSwim]->[] message This is no time for a swim!\n[WarnBurn]->[] message Hot! Hot! Ouch!\n\n\n(Story Progress)\n(---------------------------------------------------)\n[Conclu | Story @]->[Conclu |Conclu Story @]\n[Plot no Story]->[]\n\n[Human Story Intro  no Read @][Princess @]->[Human Read Story Intro  Dialog1 @][Princess @]\n[Human Story Conclu no Read @][NextTiara @][Princess @]->[Human Read Story Conclu Dialog1 @][NextTiara @][Princess @]\n\n\n[Story Read Intro  @][Story no Read Intro  @]->[Story Read Intro  @][]\n[Story Read Conclu @][Story no Read Conclu @]->[Story Read Conclu @][]\n\n(Dialogue - Tiara counting after ended level)\n(---------------------------------------------------)\n[Talk][Princess @][NextTiara @][T1]->[][Princess @][NextTiara @][T1] message Only six more to go!\n[Talk][Princess @][NextTiara @][T2]->[][Princess @][NextTiara @][T2] message Still five Tiaras remaining!\n[Talk][Princess @][NextTiara @][T3]->[][Princess @][NextTiara @][T3] message Four Tiaras yet to be found!\n[Talk][Princess @][NextTiara @][T4]->[][Princess @][NextTiara @][T4] message Three last Tiaras to discover!\n[Talk][Princess @][NextTiara @][T5]->[][Princess @][NextTiara @][T5] message Just two more Tiaras and I'll be happy!\n[Talk][Princess @][NextTiara @][T6]->[][Princess @][NextTiara @][T6] message Let's get the final Tiara. I can't wait!\n[Talk][Princess @][NextTiara @][T7]->[][Princess @][NextTiara @][T7] message Finally, we've gathered all Tiaras!!\n\n(CHALENGE GOES HERE)\n\n(Dialogue - Main Story)\n(---------------------------------------------------)\n[Talk]->[Talk Once]\n\n[Talk Once][Story1 @ Read Dialog1]->[Talk][Story1 @ Read Dialog2] message Oh? Is my Tiara across the river?\n[Talk Once][Story1 @ Read Dialog2]->[][Story1 @ Read ] message Will you fetch it for me?\n\n\n[Talk Once][Story2 @ Read Dialog1]->[Talk][Story2 @ Read Dialog2] message This trail of empty crates and scattered treasure was left behind...\n[Talk Once][Story2 @ Read Dialog2]->[Talk][Story2 @ Read Dialog3] message ... by bandits who sneaked into our palace under the cover of the night.\n[Talk Once][Story2 @ Read Dialog3]->[Talk][Story2 @ Read Dialog4] message They subdued my guards and locked us in the tower...\n[Talk Once][Story2 @ Read Dialog4]->[Talk][Story2 @ Read Dialog5] message ... started packing and removing our assets,...\n[Talk Once][Story2 @ Read Dialog5]->[Talk][Story2 @ Read Dialog6] message ... when my father, the King, arrived earlier from an overseas expedition.\n[Talk Once][Story2 @ Read Dialog6]->[][Story2 @ Read ] message He was so irate even I was scared!\n\n\n[Talk Once][Story3 @ Read Dialog1]->[Talk][Story3 @ Read Dialog2] message Those burglars even dared to use our own torches...\n[Talk Once][Story3 @ Read Dialog2]->[Talk][Story3 @ Read Dialog3] message ...to illuminate their traffic across the river...\n[Talk Once][Story3 @ Read Dialog3]->[Talk][Story3 @ Read Dialog4] message ... which they hastily abandoned, chased by our troops.\n[Talk Once][Story3 @ Read Dialog4]->[Talk][Story3 @ Read Dialog5] message The cowards disbanded as soon as they saw a glimpse of my father's sword!\n[Talk Once][Story3 @ Read Dialog5]->[][Story3 @ Read ] message You too, should be brave like my father!\n\n\n[Talk Once][Story4 @ Read Dialog1]->[Talk][Story4 @ Read Dialog2] message The thieves intended to sell our treasure to the neighboring kings...\n[Talk Once][Story4 @ Read Dialog2]->[Talk][Story4 @ Read Dialog3] message ... who always envied the rich bounties of our expeditions.\n[Talk Once][Story4 @ Read Dialog3]->[Talk][Story4 @ Read Dialog4] message I could see that in their eyes at our exuberant palace parties.\n[Talk Once][Story4 @ Read Dialog4]->[Talk][Story4 @ Read Dialog5] message So I suspect they helped finance the whole shipping operation:\n[Talk Once][Story4 @ Read Dialog5]->[Talk][Story4 @ Read Dialog6] message ... dozens of boats crammed on this temporary floating platform.\n[Talk Once][Story4 @ Read Dialog6]->[][Story4 @ Read ] message \"Never trust other Kings!\" - my father said.\n[Talk Once][Story4 @ Read]->[][Story4 @ Read ] message I trusted you because you're not a King. Go on!\n\n\n[TalkNervous Once][Story5 @ Read Dialog1]->[TalkNervous][Story5 @ Read Dialog2] message I'm afraid wolves will attack us unless we do something clever.\n[TalkNervous Once][Story5 @ Read Dialog2]->[TalkNervous][Story5 @ Read Dialog3] message Don't ask me what, you are the hero! \n[TalkNervous Once][Story5 @ Read Dialog3]->[][Story5 @ Read ] message Do something!\n\n[Talk Once][Story5 @ Read Dialog1]->[Talk][Story5 @ Read Dialog2] message Not all mercenaries came by boat...\n[Talk Once][Story5 @ Read Dialog2]->[Talk][Story5 @ Read Dialog3] message ... and many were left by their fleeing peers in this dense forest.\n[Talk Once][Story5 @ Read Dialog3]->[Talk][Story5 @ Read Dialog4] message Obviously they didn't carry their cargo far deep into the woods...\n[Talk Once][Story5 @ Read Dialog4]->[Talk][Story5 @ Read Dialog5] message ... and the little they carried would have been dropped under a wolf attack.\n[Talk Once][Story5 @ Read Dialog5]->[][Story5 @ Read] message Let us hope they left behind any Tiara!\n\n\n[TalkNervous Once][Story6 @ Read Dialog1]->[TalkNervous][Story6 @ Read Dialog2] message Wolves are chasing us again!\n[TalkNervous Once][Story6 @ Read Dialog2]->[][Story6 @ Read] message Get rid of them!\n\n\n[Talk Once][Story6 @ Read Dialog1]->[Talk][Story6 @ Read Dialog2] message From an early age, my father taught me how to use his sword...\n[Talk Once][Story6 @ Read Dialog2]->[Talk][Story6 @ Read Dialog3] message ... so I could defend myself when he was away.\n[Talk Once][Story6 @ Read Dialog3]->[Talk][Story6 @ Read Dialog4] message That night, after scaring away the crooks,...\n[Talk Once][Story6 @ Read Dialog4]->[Talk][Story6 @ Read Dialog5] message ... he was so displeased to see me and the guards subdued...\n[Talk Once][Story6 @ Read Dialog5]->[Talk][Story6 @ Read Dialog6] message ... that he sent me on a quest to recover the seven Tiaras...\n[Talk Once][Story6 @ Read Dialog6]->[Talk][Story6 @ Read Dialog7] message ... which had belonged to our dinasty for generations.\n[Talk Once][Story6 @ Read Dialog7]->[][Story6 @ Read] message Then he forbade everyone in the Kingdom from helping me! \n[Talk Once][Story6 @ Read]->[][Story6 @ Read] message So lucky to have found a foreigner like you! \n\n\n[TalkNervous Once][Story7 @ Read Dialog1]->[TalkNervous][Story7 @ Read Dialog2] message I can't bear any more wolves!\n[TalkNervous Once][Story7 @ Read Dialog2]->[TalkNervous][Story7 @ Read Dialog3] message It doesn't matter that you've got a sword, I am unarmed...\n[TalkNervous Once][Story7 @ Read Dialog2]->[][Story7 @ Read ] message ... and will burn this bridge if I have to!\n\n[Talk Once][Story7 @ Read Dialog1]->[Talk][Story7 @ Read Dialog2] message I'll never become a Queen...\n[Talk Once][Story7 @ Read Dialog2]->[Talk][Story7 @ Read Dialog3] message ... unless I can complete this Quest.\n[Talk Once][Story7 @ Read Dialog3]->[Talk][Story7 @ Read Dialog4] message My father threatened to abdicate...\n[Talk Once][Story7 @ Read Dialog4]->[Talk][Story7 @ Read Dialog5] message ... in favour of an elected government!\n[Talk Once][Story7 @ Read Dialog5]->[][Story7 @ Read ] message Don't you even pretend to entertain the idea!\n\n\n(Dialogue - Default)\n(---------------------------------------------------)\n[Talk Once]->[] message (sigh) Please!\n[Once]->[]\n\n(Dialogue - Nervous, fearing wolves)\n(---------------------------------------------------)\n[TalkNervous][StoragePrin Sword]->[][StoragePrin Sword] message I'll manage the sword, you use your head!\n\n[TalkNervous]->[] message What kind of hero are you? Protect me!\n\n\n(Dialogue - win game)\n(---------------------------------------------------)\n\n[TalkWin]->[TalkWin Once]\n\n[TalkWin Dialog1 Once]->[TalkWin Dialog2] message Our quest is over! We recovered...\n\n[TalkWin Dialog2 Once][TB0]->[TalkWin Dialog3][] message ~ ~ ~ Intact Tiaras: 7 of 7 ~ ~ ~    ~ Perfect! ~\n[TalkWin Dialog2 Once][TB1]->[TalkWin Dialog3][] message ~ ~ ~ Intact Tiaras: 6 of 7 ~ ~ ~    ~ Excellent! ~\n[TalkWin Dialog2 Once][TB2]->[TalkWin Dialog3][] message ~ ~ ~ Intact Tiaras: 5 of 7 ~ ~ ~    ~ Impressive! ~\n[TalkWin Dialog2 Once][TB3]->[TalkWin Dialog3][] message ~ ~ ~ Intact Tiaras: 4 of 7 ~ ~ ~    ~ Great! ~\n[TalkWin Dialog2 Once][TB4]->[TalkWin Dialog3][] message ~ ~ ~ Intact Tiaras: 3 of 7 ~ ~ ~    ~ Nice!\n[TalkWin Dialog2 Once][TB5]->[TalkWin Dialog3][] message ~ ~ ~ Intact Tiaras: 2 of 7 ~ ~ ~    ~ Not bad! ~\n[TalkWin Dialog2 Once][TB6]->[TalkWin Dialog3][] message ~ ~ ~ Intact Tiaras: 1 of 7 ~ ~ ~    ~ Good effort! ~\n[TalkWin Dialog2 Once][TB7]->[TalkWin Dialog3][] message ~ ~ ~ Intact Tiaras: 0 of 7 ~ ~ ~    ~ Actually not that easy! ~\n\n[TalkWin Dialog3 Once]->[TalkWin Dialog4] message Let's return to the palace!\n\n[TalkWin Dialog4 Once][Ring StoragePlay]->[TalkWin Dialog5][Ring StoragePlay] message What? A special gift for me?\n[TalkWin Dialog5 Once]->[TalkWin Dialog6] message Oh! Such a magnificient ring! \n[TalkWin Dialog6 Once]->[TalkWin Dialog7] message My father will absolutely approve of us...\n\n[TalkWin Dialog4 Once]->[TalkWin Dialog7] message My father will reward your bravery ...\n\n[TalkWin Dialog7 Once]->[EndGame] message ... and our sucess story shall be sung forever in our Kingdom. We'll name it the legend of...\n\n[Once]->[]\n\n\n(Talk to Princess - activate)\n(---------------------------------------------------)\n[> Player|Princess]->[Player |Princess Talk]\n[Talk][Princess Unsafe @]->[TalkNervous][Princess Unsafe @]\n\n(smoother dialogue presentation)\n[TalkWall]->[]\nlate [Talks][]->[Talks][TalkWall]\n\n(Dialogue - Sword Swipe against Princess)\n(---------------------------------------------------)\n[SwordSwipe Princess][SwordWarn2][Sword StoragePlay][StoragePrin StoragePicker no Pickable]->[SwordSwipe Princess][SwordWarn2][Sword StoragePlay][StoragePrin StoragePicker Sword]\n\n[SwordSwipe Princess][SwordWarn2][Sword StoragePlay]->[SwordSwipe Princess][SwordWarn2][StoragePlay] \n\n[SwordSwipe Princess][SwordWarn2]->[Princess][] message Hand me your sword now. It is too dangerous for you.\n\n\n[SwordSwipe Princess][SwordWarn1]->[Princess][SwordWarn2] message Be careful with your sword! Last warning.\n[SwordSwipe Princess no Warnings]->[Princess SwordWarn1] message Hey! You almost cut my expensive dress with your clumsy swordmanship!\n\n\n(Dialogue - Level introductions and conclusions, on stepping particular positions)\n(---------------------------------------------------)\n[Intro  Read @]->[Intro  Read @ Once]\n[Conclu Read @]->[Conclu Read @ Once]\n\n\n[Story1 Read Dialog1 Conclu @ Once]->[Story1 Read Dialog2 Conclu @] message Wait! Maybe you could help me...\n[Story1 Read Dialog2 Conclu @ Once]->[Story1 Read Dialog1 @] message ... recover the others?\n\n\n[Story2 Read Dialog1 Intro @ Once]->[Story2 Read Dialog1 @] message Let's cross the river. You go first!\n\n\n[Story3 Read Dialog1 Intro @ Once]->[Story3 Read Dialog2 Intro @] message Look there! A stolen torch, still burning.\n[Story3 Read Dialog2 Intro @ Once]->[Story3 Read Dialog1 @] message Don't let it too close to the trees, you may start a fire.\n\n\n[Story4 Read Dialog1 Intro @ Once]->[Story4 Read Dialog2 Intro @] message A dangerous crate bridge...\n[Story4 Read Dialog2 Intro @ Once]->[Story4 Read Dialog3 Intro @] message ... and a rather heavy boulder?\n[Story4 Read Dialog3 Intro @ Once]->[Story4 Read Dialog1 @] message You go ahead! I'll stay and coordinate.\n\n\n[Story4 Read Dialog1 Conclu @ Once]->[Story4 Read Dialog2 Conclu @] message Finally, we've crossed the river!\n[Story4 Read Dialog2 Conclu @ Once]->[Story4 Read Dialog1 @] message Now we must venture deep into the forest to reach the kingdom's frontier.\n\n\n[Story5 Read Dialog1 Intro @ Once]->[Story5 Read Dialog2 Intro @] message Did you hear that howl?\n[Story5 Read Dialog2 Intro @ Once]->[Story5 Read Dialog1 @] message Wolves must not be far from us.\n\n\n[Story6 Read Dialog1 Intro @ Once]->[Story6 Read Dialog2 Intro @] message No, I'm not hiding! \n[Story6 Read Dialog2 Intro @ Once]->[Story6 Read Dialog1  @] message I'm looking for a sword my father stashed somewhere.\n\n\n\n[Story7 Read Dialog1 Intro @ Once]->[Story7 Read Dialog2 Intro @] message This is the last Tiara! \n[Story7 Read Dialog2 Intro @ Once]->[Story7 Read Dialog3 Intro @] message I'll stay here by this torch, unless you need...\n[Story7 Read Dialog3 Intro @ Once]->[Story7 Read Dialog1 @] message .. my expert swordswomanship. \n\t\n[Once]->[]\n\n\n(Character Intentions)\n(---------------------------------------------------)\n(---------------------------------------------------)\n\n(Wake up Wolves - important for game performance)\n(---------------------------------------------------)\n(propagate awakeness in wolf group)\n[Story|WolfSleep no Story]->[Story|WolfSleep Story]\n[Story no WolfSleep|WolfSleep]->[|WolfSleep]\n\n(sleep when progress to next point in map, and reawaken)\n[WolfSleep WolfWake @]->[Wolf WolfR @]\n[Player Warps][Wolf  @]->[Player Warps][WolfSleep WolfWake no WolfType @]\n\n\n(wake up selected wolves)\n[WolfSleep Story5 @][Human Story5 @]->[WolfSleep WolfWake @][Human Story5 @]\n[WolfSleep Story6 @][Human Story6 @]->[WolfSleep WolfWake @][Human Story6 @]\n[WolfSleep Story7 @][Human Story7 @]->[WolfSleep WolfWake @][Human Story7 @]\n\n\n(Mark Swordholders)\n(---------------------------------------------------)\n[Swiper]->[]\n[StoragePrin Sword][Princess @]->[StoragePrin Sword][Swiper Princess  @]\n[StoragePlay Sword][Player  ]->[StoragePlay Sword][Swiper Player]\n\n\n\n(Princess fearing wolves: Part I - find longest escape route)\n(---------------------------------------------------)\n\n(initiate all paths starting: from Princess -;- from wolves -,- )\n[Wolf no , @]->[Wolf _ , @]\n[Wolf @][Princess no ; @]->[Wolf @][Princess _ ; @]\n\n(gradually discover safe territory)\nStartloop\n[_ , no Once @|Floor no BarrierWolfTerritory no Once @]->[_ , @|Floor _ , Once @] (wolf)\n[_ ; no Once @|Floor no BarrierWolfPrinTerritory no Once @]->[_ ; @|Floor _ ; Once @] (princess)\n[Once]->[]\nendloop\n[_ Path]->[Path]\n\n\n(mark characters as unsafe)\n[!]->[]\n[, |Human]->[, |Human !]\n\n(gradually exclude escape closest to wolves)\n[! Princess @][,]        ->[! Princess @][]\n[! Princess @][@ Wolf no ,]->[! Princess @][@ Wolf _ ,]\n\n[! Princess @][;]        ->[! Princess @][; Last] (leave when the last target is found)\n\nstartloop\n[Last @][_ , no Once @|Floor no , no BarrierPassThroughPrin no Once @]->[Last @][_ , @|Floor _ , Once @] \n[Last @][EscapeTarget]->[Last @][]\n[Last @]->[EscapeTarget Last @]\n[, ; Last]->[,]\n[Once]->[]\nendloop\n\n[Path]->[]\n[_]->[]\n\n(Princess Following Player)\n(---------------------------------------------------)\n(to defend him with her equipped sword against wolves)\n[Sword StoragePrin][Princess @][Player ! no DefendTarget @]->[Sword StoragePrin][Princess @][Player ! DefendTarget @]\n\n\n[Sword StoragePrin][Princess @][Player no DefendTarget @][Wolf @][Defended @]->[Sword StoragePrin][Princess @][Player DefendTarget @][Wolf @][Defended @]\n\n[DefendTarget @]->[DefendTarget @ Defended]\nrandom [Defended no Princess]->[Defended _]\n[Defended no _]->[]\n[_]->[]\n\n(to go to next level(s) after retrieving a Tiara)\n[NextTiara @][Player]->[NextTiara @][Player FollowTarget]\n\n(Princess going to initial level spot, but after level concluded follow player)\n[NextTiara @][Beckon @]->[NextTiara @][@] \n[Beckon @]->[Beckon @ FollowTarget]\n\n(Target Priorities)\n[DefendTarget @][EscapeTarget @]->[DefendTarget @][@]\n[DefendTarget @][FollowTarget @]->[DefendTarget @][@]\n[EscapeTarget @][FollowTarget @]->[EscapeTarget @][@]\n\n\n(at level end, before Player escaping to new area)\n[> Player|Warps][StoragePlay Tiaras][Princess no Unsafe @]->[stationary Player Escaping|Warps][StoragePlay Tiaras][Princess @]\n\n[Escaping @][Beckon @]->[Escaping @][@]\n[Escaping @][FollowTarget @]->[Escaping @][@]\n[Escaping @][Player ][Princess @]->[Escaping @][Player FollowTarget][Princess @ AllowMove] \n\n[Player Warps][Escaping @]->[Player Warps][@]\n\n(at level beginning, move princess faster, independently of player)\n[Beckon @ FollowTarget][Princess @ no Beckon]->[Beckon @ FollowTarget][Princess @ AllowMove] \n\n\n(Save progress)\n(---------------------------------------------------)\n(Princess reaches save point)\n[Beckon Princess @ FollowTarget no Savings]->[Beckon Princess @ FollowTarget Save _]\n\n(lvl 4: save only after Lamp is there)\n[Save _][Story4 @]->[Save][Story4 @]\n[Save no _][Story4 @][Lamp @]->[Save _][Story4 @][Lamp @]\n\n(save game)\n[SaveWall]->[]\n[Save _]->[Save _ SaveWall]\n[SaveWall][no SaveWall]->[SaveWall][SaveWall]\n[Save _]->[Saved] checkpoint\n[_]->[]\n\n\n\n(Already reached)\n[Princess @ DefendTarget]->[Princess @]\n[Princess @ FollowTarget]->[Princess @]\n\n\n\n(Princess moving to targets)\n(---------------------------------------------------)\n[Trapped]->[]\n[TrapBlock]->[Trapped]\n[TrappedBefore]->[Trapped]\n[! Princess EscapeTarget @]->[! stationary Princess Trapped TrappedBefore @](when Princess reaches EscapeTarget she is Trapped)\n\n(set path possibilities)\n[Floor no BarrierPassThroughPrin @]->[Floor ; @]\n\n(build path from target)\n[Target @] -> [Target _ ; @]\n[Target Princess _ ; @]->[Princess @] (princess has arrived there)\n\nStartloop\n[ no _ ; no Once| _ ;  @] -> [_ > ; | _ ;  @]\n[> ; Princess][; no Once]->[> ; > Princess][Once] (stop on princess and attract her to target)\nendloop\n[ClearRoute]->[]\n\n\n(Warning - Player cannot leave without princess following)\n(---------------------------------------------------)\n[Player FollowTarget][Princess @]->[Player FollowTarget Once][Princess @]\n[Princess @|Player Once]->[Princess @| Player]\n[> Player Once| Warps][Princess @]->[Player |Warps][Princess @ AllowMove] message Wait for me please!\n[Once]->[]\n\n(Warning - Player cannot leave without handing Tiara)\n(---------------------------------------------------)\n[Player]->[Player Once]\n[NextTiara @][Once]->[NextTiara @][]\n[> Player Once| Warps WarpNew][Princess @]->[Player |Warps WarpNew][Princess @] message Where are you going? My Tiara!\n[Once]->[]\n\n(Reset all targets)\n(---------------------------------------------------)\n[Target]->[]\n\n\n\n(Wolves chasing humans)\n(---------------------------------------------------)\n[Wolf @]      ->[Wolf @ Seeing] (leave when no wolf is seeing)\n\nstartloop\n\nrandom [Wolf Seeing]->[Wolf Seeing Seeking]    (one wolf at the time)\n\n(mark possible paths)\n[Wolf Seeing Seeking][Floor no BarrierWolfSeek]->[Wolf Seeing Seeking][Floor ,]\n[Wolf Seeing Seeking no ,]->[Wolf Seeing Seeking ,] (through itself)\n\n(find path to seekables)\n[Wolf Seeing Seeking][Seekable no _] -> [Wolf Seeing Seeking][Seekable _ ,]\n[Wolf Seeing Seeking][ no _ , | _ , ] -> [Wolf Seeing Seeking][ _ > , | _ , ]\n[_]->[]\n\n(mark trapped princess)\n[Wolf Seeing Seeking][ > , no TrapBlock | , Princess Trapped ]->[Wolf Seeing Seeking][ > , TrapBlock | , Princess Trapped ]\n\n(move intent)\n[Wolf Seeing Seeking > ,]->[> Wolf]\n[,]->[]\n[Wolf Seeing Seeking]->[Wolf]\n\nendloop\n[Seeing]->[]\n[Seeking]->[]\n\n(Princess trapped, tries to escape-push in other directions)\n(---------------------------------------------------)\n[stationary Princess Trapped @ | Floor no Trapped @]->[> Princess Trapped Try @ |Floor @]\n[TrapFree]->[]\n[ Princess Trapped @ | Pushable no TrapFree @]->[Princess Trapped @ | Pushable TrapFree @]\n\n(Wolf flip)\n(---------------------------------------------------)\n[left  Wolf ]->[left  Wolf left ML]\n[right Wolf ]->[right Wolf right MR]\n\n\n(Swordholders instil respect)\n(---------------------------------------------------)\n[Threat]->[]\n[Swiper | no Threat]->[Swiper| Threat]\n[> Wolf | Threat]->[stationary Wolf |Threat]\n\n(Humans swipe sword instinctively against wolves)\n(---------------------------------------------------)\nleft  [Swiper|no SwordSwipe Wolf]->[Swiper |SwordSwipeL Wolf]\nup    [Swiper|no SwordSwipe Wolf]->[Swiper |SwordSwipeU Wolf]\nright [Swiper|no SwordSwipe Wolf]->[Swiper |SwordSwipeR Wolf]\ndown  [Swiper|no SwordSwipe Wolf]->[Swiper |SwordSwipeD Wolf]\n\nlate left  [Swiper |no SwordSwipe no SwipeBlock| Wolf]->[Swiper |SwordSwipeL| Wolf]\nlate up    [Swiper |no SwordSwipe no SwipeBlock| Wolf]->[Swiper |SwordSwipeU| Wolf]\nlate right [Swiper |no SwordSwipe no SwipeBlock| Wolf]->[Swiper |SwordSwipeR| Wolf]\nlate down  [Swiper |no SwordSwipe no SwipeBlock| Wolf]->[Swiper |SwordSwipeD| Wolf]\n\n(Move Characters only when allowed)\n(---------------------------------------------------)\n[moving Character no AllowMove]->[stationary Character]\n\n(Wolf fearing sword swipes)\n(---------------------------------------------------)\n[Wolf SwordSwipe]->[stationary Wolf SwordSwipe Try]\n[stationary Wolf SwordSwipeL]->[left  Wolf SwordSwipeL] \n[stationary Wolf SwordSwipeU]->[up    Wolf SwordSwipeU] \n[stationary Wolf SwordSwipeR]->[right Wolf SwordSwipeR] \n[stationary Wolf SwordSwipeD]->[down  Wolf SwordSwipeD] \n\n\n(Warning - Wolf biting)\n(---------------------------------------------------)\n[Princess no Bitten @|Wolf no SwordSwipe @]->[Princess Bitten RestartLevel @|Wolf RestartLevel @] message Bad wolf! Help! I'm fainting...\n[Player no Bitten|Wolf no SwordSwipe @]->[Player Bitten RestartLevel @|Wolf RestartLevel @] message Look out! Are you OK?\n\n\n(Prevent player swim)\n(---------------------------------------------------)\n[> Player | no Floor]->[Player |]\n\n\n\n(Moving / Collide / Transport loop)\n(---------------------------------------------------)\n(---------------------------------------------------)\n\nstartloop\n\n(Push and Collision)\n(---------------------------------------------------)\nleft  [left  Pusher | stationary Pushable no FixedL]->[left  Pusher|left  Pushable]\nup    [up    Pusher | stationary Pushable no FixedU]->[up    Pusher|up    Pushable]\nright [right Pusher | stationary Pushable no FixedR]->[right Pusher|right Pushable]\ndown  [down  Pusher | stationary Pushable no FixedD]->[down  Pusher|down  Pushable]\n\n(Wolves can be pushed indirectly)\n(---------------------------------------------------)\nleft  [left  Pushable | Wolf no FixedL]->[left  Pushable|left  Wolf]\nup    [up    Pushable | Wolf no FixedU]->[up    Pushable|up    Wolf]\nright [right Pushable | Wolf no FixedR]->[right Pushable|right Wolf]\ndown  [down  Pushable | Wolf no FixedD]->[down  Pushable|down  Wolf]\n\n(Propagate flames on push)\n(---------------------------------------------------)\nleft  [left  Flamer | stationary PushFlammmable]->[left  Flamer |stationary PushFlammmable Flame]\nup    [up    Flamer | stationary PushFlammmable]->[up    Flamer |stationary PushFlammmable Flame]\nright [right Flamer | stationary PushFlammmable]->[right Flamer |stationary PushFlammmable Flame]\ndown  [down  Flamer | stationary PushFlammmable]->[down  Flamer |stationary PushFlammmable Flame]\n\n(Prevent unacomplished moves: Part 1)\n(---------------------------------------------------)\nleft  [left  Pusher | stationary Item]->[left  Pusher FixedL|stationary Item]\nup    [up    Pusher | stationary Item]->[up    Pusher FixedU|stationary Item]\nright [right Pusher | stationary Item]->[right Pusher FixedR|stationary Item]\ndown  [down  Pusher | stationary Item]->[down  Pusher FixedD|stationary Item]\n\n\n(Princess/Wolf Panic - try other directions)\n(---------------------------------------------------)\n[Wolf Try|Floor no BarrierWolfEscape no Safefloor]->[Wolf Try|Floor SafeFloor]\n[Princess Try|Floor no BarrierPrin no Safefloor TrapFree ]->[Princess Try|Floor SafeFloor TrapFree]\n\nleft  [down  Fearful Try FixedD|SafeFloor]->[left  Fearful Try FixedD|SafeFloor]\nup    [left  Fearful Try FixedL|SafeFloor]->[up    Fearful Try FixedL|SafeFloor]\nright [up    Fearful Try FixedU|SafeFloor]->[right Fearful Try FixedU|SafeFloor]\ndown  [right Fearful Try FixedR|SafeFloor]->[down  Fearful Try FixedR|SafeFloor]\n\nleft  [up    Fearful Try FixedU|SafeFloor]->[left  Fearful Try FixedU|SafeFloor]\nup    [right Fearful Try FixedR|SafeFloor]->[up    Fearful Try FixedR|SafeFloor]\nright [down  Fearful Try FixedD|SafeFloor]->[right Fearful Try FixedD|SafeFloor]\ndown  [left  Fearful Try FixedL|SafeFloor]->[down  Fearful Try FixedL|SafeFloor]\n\n\n[Fearful Try FixedL FixedU FixedR FixedD]->[Fearful FixedL FixedU FixedR FixedD]\n\n(Prevent unacomplished moves: Part 2)\n(---------------------------------------------------)\nleft  [left  Pusher no Try FixedL]->[stationary Pusher FixedL ]\nup    [up    Pusher no Try FixedU]->[stationary Pusher FixedU ]\nright [right Pusher no Try FixedR]->[stationary Pusher FixedR ]\ndown  [down  Pusher no Try FixedD]->[stationary Pusher FixedD ]\n\nendloop\n[Try]->[]\n[SafeFloor]->[]\n[Fixed]->[]\n\n\n\n(Item Interactions)\n(---------------------------------------------------)\n(---------------------------------------------------)\n\n(Pickables kicked by wolves)\n(---------------------------------------------------)\n[no Item|> Wolf stationary Pickable]->[|> Wolf < Pickable]\n\n\n(Crate destroy)\n(---------------------------------------------------)\nlate [CrateDestroy2]->[]\n\n[CrateDestroy]->[CrateDestroy2]\n[Crate SwordSwipe]->[CrateDestroy SwordSwipe]\n\n\n(Displace properties with objects)\n(---------------------------------------------------)\n[> Flammmable stationary FlameAny]->[> Flammmable > FlameAny]\n([> Wolf WolfType]->[> Wolf > WolfType])\n\n(Stabilise last move direction)\n(---------------------------------------------------)\n[vertical Wolf LastMoveDirection]->[vertical Wolf vertical LastMoveDirection]\n\n[stationary Character moving LastMoveDirection]->[stationary Character stationary LastMoveDirection]\n\n(Flammables)\n(---------------------------------------------------)\nlate [Flame Fla12 Flammmable]->[Flame Fla12]\nlate [Flame ContactFlamer|Flammmable]->[Flame ContactFlamer|Flammmable Flame]\n\nlate [TreeType no Tree]->[] (destroy trees)\n\n\n(Floatables)\n(---------------------------------------------------)\nlate [WSplash]->[]\nlate [Crate Water no Floater]->[CrateW Water WSplash]\nlate [Player Water no Floater]->[ Water WSplash WarnSwim]\nlate [Tiaras Water no Floater]->[ Water WSplash RestartLevel]\nlate [Sinkable Water no Floater]->[ Water WSplash]\n\n\nlate [CrateEmerging]->[CrateW]\nlate [Boulder Water Floater]->[ Water WSplash CrateEmerging]\n\nlate [Flame Water no Floater]->[ Water ]\n\n\n(Warning - Breaking the Tiara)\n(---------------------------------------------------)\nlate [Tiara Pushable]->[TiaraBroken Pushable] message Ouch! Tiaras are so fragile! \n\n\n(Warning - Player cannot leave princess alone with wolf)\n(---------------------------------------------------)\n[> Player| Warps][Princess Unsafe @]->[Player|Warps][Princess Unsafe @] message Don't leave me alone with the wolf!\n\n\n\n(Animations and Decorations)\n(---------------------------------------------------)\n(---------------------------------------------------)\n\n(Initialisation - Main Elements)\n(---------------------------------------------------)\n[T]->[Tree random TreeType .]\n[# no WallOver]->[# random WallOver   ]\n[. no SoilOver]->[. random SoilOver   ]\n[~ no W       ]->[~ random W          ]\n\n(Initialisation - Water margins)\n(---------------------------------------------------)\n[. no WX]-> [. WLXU WLXD WRXU WRXD]\nleft [WXL|.# StartGame]->[|.# StartGame]\nup   [WXU|.# StartGame]->[|.# StartGame]\nright[WXR|.# StartGame]->[|.# StartGame]\ndown [WXD|.# StartGame]->[|.# StartGame]\n\n[~ no SX]-> [~ SLXU SLXD SRXU SRXD]\nleft [SXL StartGame|W#]->[ StartGame|W#]\nup   [SXU StartGame|W#]->[ StartGame|W#]\nright[SXR StartGame|W#]->[ StartGame|W#]\ndown [SXD StartGame|W#]->[ StartGame|W#]\n\n(Initialisation - End)\n(---------------------------------------------------)\n[StartGame]->[]\n\n\n(Princess and wolf)\n(---------------------------------------------------)\n[Dress]->[]\nlate left [Princess|]->[Princess|DressL]\nlate right[Princess|]->[Princess|DressR]\n\nlate [Wolf MR @]->[Wolf WolfR MR]\nlate [Wolf ML @]->[Wolf WolfL ML]\nlate left [WolfR|]->[WolfR|WolfTailR]\nlate right[WolfL|]->[WolfL|WolfTailL]\n\nlate [Wolf no WolfType]->[Wolf WolfL]\n\nlate [WolfType no Wolf]->[]\nlate left [no WolfR|WolfTailR]->[|]\nlate right[no WolfL|WolfTailL]->[|]\n\n\n(Flame)\n(---------------------------------------------------)\n   [no Flame  OverFlame1]->[]\nup [no Flame| OverFlame2]->[|]\nup [no Flame||OverFlame3]->[||]\n\nlate [Flame no Flammmable]->[]\n\nlate [Flame Fla11]->[Flame Fla12]\nlate [Flame Fla10]->[Flame Fla11]\nlate [Flame no OverFlame1]->[Flame Fla10]\n\nlate up [Flame Fla12|]->[Flame Fla12|Fla22]\nlate up [Flame Fla11|no OverFlame2]->[Flame Fla11|Fla21]\n\nlate up [Flame Fla12|Fla22|no OverFlame3]->[Flame Fla12|Fla22|Fla32]\n\n(Flame burns)\n(---------------------------------------------------)\nlate [Human Fla12]->[Fla12 WarnBurn]\nlate [Wolf  Fla12]->[Fla12         ]\n\n\n(Perspective)\n(---------------------------------------------------)\n[Over1]->[]\nlate up[Princess|no PrincessTop]->[Princess| PrincessTop]\nlate up[Player|no PlayerTop]->[Player| PlayerTop]\nlate up[Wall|no WallTop]->[Wall|random WallTop]\nlate up[FakeWallStor|WallTop]->[FakeWallStor|no WallTop]\nlate up[Crate|no Crate1]->[Crate|Crate1]\nlate up[Boulder|no Boulder1]->[Boulder|Boulder1]\nlate up[Tr|no Tr1]->[Tr|Tr1]\nlate up[Tre|no Tre1]->[Tre|Tre1]\nlate up[Treee|no Treee1]->[Treee|Treee1]\nlate up[Treeee|no Treeee1]->[Treeee|Treeee1]\nlate up[Treeeee|no Treeeee1]->[Treeeee|Treeeee1]\n\n\n(Animation: Pickables)\n(---------------------------------------------------)\nlate [TiaraShine no Tiara]->[]\nlate [SwordShine no Sword]->[]\n\n[» Tiara]->[» Tiara _]\n\nlate [» Tiara _ no TiaraShine]-> [» Tiara TiaraShine]\nlate [» Tiara _    TiaraShine]-> [» Tiara ]\n\n[» Sword]->[» Sword _]\n\nlate [» Sword _ SwordShine9]-> [» Sword]\nlate [» Sword _ SwordShine8]-> [» Sword SwordShine9]\nlate [» Sword _ SwordShine7]-> [» Sword SwordShine8]\nlate [» Sword _ SwordShine6]-> [» Sword SwordShine7]\nlate [» Sword _ SwordShine5]-> [» Sword SwordShine6]\nlate [» Sword _ SwordShine4]-> [» Sword SwordShine5]\nlate [» Sword _ SwordShine3]-> [» Sword SwordShine4]\nlate [» Sword _ SwordShine2]-> [» Sword SwordShine3]\nlate [» Sword _ SwordShine1]-> [» Sword SwordShine2]\nlate [» Sword _ no SwordShine]-> [» Sword SwordShine1]\n\n[_]-> []\n\n\n(Animation: Lamp: linear)\n(---------------------------------------------------)\nup [» Lamp|no »]->[» Lamp|»]\n\nlate [» Lamp8 no _]->[» Lamp1 _]\nlate [» Lamp7 no _]->[» Lamp8 _]\nlate [» Lamp6 no _]->[» Lamp7 _]\nlate [» Lamp5 no _]->[» Lamp6 _]\nlate [» Lamp4 no _]->[» Lamp5 _]\nlate [» Lamp3 no _]->[» Lamp4 _]\nlate [» Lamp2 no _]->[» Lamp3 _]\nlate [» Lamp1 no _]->[» Lamp2 _]\nlate [_]->  []\n\nlate up[Lamp|no Lamps1]->[Lamp| random Lamps1]\nlate up[no Lamp|Lamps1]->[|]\n\n(Animation: floating crate: reverse)\n(---------------------------------------------------)\n[ CrateW no CW]->[ CrateW random CW]\n\n[» CrateW]->[» CrateW _]\n\n[» CW6 _ no CR]->[» CW6 CR]\n[» CW5 _ no CR]->[» CW6   ]\n[» CW4 _ no CR]->[» CW5   ]\n[» CW3 _ no CR]->[» CW4   ]\n[» CW2 _ no CR]->[» CW3   ]\n[» CW1 _ no CR]->[» CW2   ]\n\n[» CW6 _    CR]->[» CW5 CR]\n[» CW5 _    CR]->[» CW4 CR]\n[» CW4 _    CR]->[» CW3 CR]\n[» CW3 _    CR]->[» CW2 CR]\n[» CW2 _    CR]->[» CW1 CR]\n[» CW1 _    CR]->[» CW1   ]\n\n[_]->[]\n\n\nlate [ CW Weight]->[ CWeight Weight]\n[» CWeight no Weight]->[» CW1]\n\nlate [ CW no CrateW]->[]\n\n\n(Animation: water currents)\n(---------------------------------------------------)\n[» W]->[» W _]\n(execute water horizontal background change)\n[» W52 _]->[» W42]\n[» W42 _]->[» W32]\n[» W32 _]->[» W22]\n[» W22 _]->[» W12]\n[» W12 _]->[» W52]\n[_]->[]\n\n\n(Animation: Win/Restart level)\n(---------------------------------------------------)\n[GameControl @]->[GameControl _ @]\n\n[RestartLevel _ @|no RestartLevel ]->[RestartLevel _ @|RestartWall RestartLevel no _ ]\n[     WinGame _ @|no      WinGame ]->[     WinGame _ @|    WinWall      WinGame no _ ]\n\n[GameControl _ @]->[GameControl @]\n\n[GameControl no FakeWall no _ @]->[GameControl no FakeWall _ @]\n[GameControl no FakeWall _ @][no GameControl @]->[GameControl no FakeWall @][no GameControl @]\n\n\n[RestartLevel no FakeWall _ @]->restart\n[WinGame no FakeWall _ @][Player no TalkWin no Dialog]->[WinGame no FakeWall _ @][Player TalkWin Dialog1]\n\n[_]->[]\n\n(End game)\n(---------------------------------------------------)\n[EndGame][Talks]->[EndGame][]\n[EndGame][Dialog]->[EndGame][]\nlate [EndGame][]->[EndGame][TalkWall]\n[EndGame]->win\n\n==============\nWINCONDITIONS\n==============\n\n=======\nLEVELS\n=======\n\nmessage My precious Tiara (sigh)...\nmessage ... forever lost!\n\n\\######################\\\\######################\\\\######################\\\n#....TT..#######..#TTTT##TTTTT........TTTT~~T..##......................#\n#.TTD...A..TTTZ....TT..X#TTT.T.TTTTTT.....õõ...##......................#\n#..TDTTTDDDTTT#TOT.T...6*...TT......T..TTTY~TT.##......................#\n#T....TT.O..TTT#O#.T...X6....TTTTTT.TT...#T~~~.##......................#\n#TTTT.T#T#T...TTO..T..T#*...TT......TTT#..TTT~.##......................#\n#TTT.....D.......#T..TT##TT....TTTT..TTT#...õ~.##......................#\n#6FF..T#T#T.#........TT##TTTTT.~~~~T.T.##.O..~Y##......................#\n#TYYTT~~~~~~T###TTTT..~##~~~~~5F~~~~A........~~##......................#\n#~~~~~~~~~~T~B......6.~##~~~~~~~~~~####555DD.~~##......................#\n#~~~~~~~~~~~.YTTTTTTT~~########~~~#..#B..5...~~##......................#\n#~~~~~~~~T...~~~~~~~~~~######~~~~#...###~~~~~~~##......................#\n#~~~.......T~~~~~~~########~~~~~##......~~~~~~~##......................#\n#~~~...~~~~~~~~~~#########~~~~~~##.......~~~~~~##......................#\n####*7*###########################*5*############......................#\n#################################################......................#\n###========##--------######========##--------####......................#\n\\######################\\\\######################\\\\######################\\\n\\7X7###################\\\\######################\\\\X5X###################\\\n#...7.......#~~~~~~~~~~##~~~~~~~~~##TTT#####...X#...4C##~~~~~~~~~~~~~~~#\n#7777~~~õ~õõ~...~~~~~~~##~~TTTTTT~DTT#T.###....4#..44~~~~~~~~~TTTT~~~~~#\n#~..~BLTõõõ~O.F7~~~~~~~##~~.TTTT#.DATTT..###...X###~~~~~~##~~TTDATT~~~~#\n#~~...~~õ~~~D~~~~.7F~~~##~~.T..T..TY#T.#.####~~##44...~~.OO...~~D#T~~~~#\n#~~~~~~~õ~~~D~~~~.#.~~~##~~~~~~T~~~TTT...#..TOO#*.4...~~.~~~~~~TTTõ~~~~#\n#~~~~~~...~#%...~.T.~~~##~~...~~~~~~~~~#.DD.#..#4.4...~~...~~~..õõõõ~~~#\n#~.........««#...O..~~~##~~.OOL~~#~~~~#..##.#.~#*.4...~~.DO~~~.Yõ~~õ~~~#\n#~.o.~~...~.«T....#~.~~##~~~OOO.~~~~#~#.....#.~##44....õõõõõ.....~~õ~~~#\n#~...~~~~~~~~T~O~##~D.~##~~~....~~~~~~~###..#.~##....O.~~~~õ~~~~~~~õ~~~#\n#~~~~~~...~#~...~~~A..~##~~~~õ~~~~#~~~~~~~##T.~##.##B..~~~~õ~~õõõõõõ~~~#\n#~~~~~~.....#.##~~~~#~~##~~~~õ~~~~~~T.........~##.OOO####~~õõõõ.~~~~~~~#\n#~~~~~~~~~#.DD.#~~~~~~~##~~~333~TTT...T~~~~~~~~##....#~~~~~~~...~~~~~~~#\n#~~~~~~~~##....##~~~~~~##~~~...B....~~~~~~~~~~~######~~~~~~~~~~~~~~~~~~#\n############################*3*#########################################\n########################################################################\n###========##--------######========##--------######========##--------###\n\\######################\\\\######################\\\\######################\\\n\\#######X2X############\\\\#############X3X######\\\\######################\\\n#~~~~~~~.R.~~~~~~~~~~~~##~~~~~TTTTTT.....~~~~~~##~~~~~~~#~########T#####\n#TT~~~.....~~~~~~~~~~~~##~~##~~TTT#~~T....~~~~~##~~~~~#~~~~~~~~~#####T##\nT#TTTT..TTT~~~~~~~~~~~~##~~##~~..~~~~~~~~~~~~~~##~~~#~~~~#~~~~~~~~~#####\n#TTTT..TT.T~~T.T~~~~~~~##~~~~~~~~~õ~OO~A~...~~~##~#~~~~#~~~~~.....TT##T#\nT#.TT1TT..o~~OA.~~~~~~~##~~~~~...~~~~.~~~...~~~##~~~~#~~~~~~.OOO.TTTT###\n*TTTT..T.o.~~...~~~~~~~##~~~~~.OO~~~~~~~~~~~~~~##~~#~~~TTT~~.O.O.......X\n8TT#TT.To..~~~~~~~~~~TT##~~~~~.OO~~....~.~~~~~~###~~~~~TQT~~...........8\n*TTTTTcT...~T.TT~~~...T##T~~~~...~..O.O..~~~~~~##~~#~~~TTT~~.O.O.......X\nT#TT#T1.B..~..o.......###TT~~~...~~~~~~~.~~~~~~##~~~~#~~~~~~.OOO.TTTT###\n#.TT.TTT...~Y..P......###TT~~~T.T~~T.T~~~~~~~~~##~#~~~~#~~~~~.....TT##T#\n#TTT.T#T~~~~..........T##T~~~~...~~...~~~~~~~~~##~~~#~~~~#~~~~~~~~~#####\nT#.TTTT~~~~~~...#...TT###~~~~~2222B.O.~~~~~~~~~##~~~~~#~~~~~~~~~#####T##\nT###~~~~~~~~~~~~TT.#T#T##~~~~~....~~~~~~~~~~~~~##~~~~~~~#~########T#####\n##############################*2*#######################################\n########################################################################\n###========##--------######========##--------######========##--------###\n\\?§####################\\\\######################\\\\######################\\\n\n\nmessage  ~ ~ ~ ~ ~  Tiaradventur  ~ ~ ~ ~ ~                                     ~ ~ ~ by  Pedro PSI 2018 ~ ~ ~ \nmessage  ~ ~ Music ~ by Whitesand ~ ~   \n\n\n(?§########\n#.O......#\n#.RP.....#\n#B66...O.#\n#.õõõõ#.##\n#.õõõõ#.##\n#.õõõõ#6F#\n#.õõõõ####\n#.Q.LTT..#\n#.....T..#\n#.AAA.Tõ.#\n#..AA.O..#\n#..AA....#\n#........#\n##########\n#========#\n##########\n#--------#\n##########\n##########\n#========#\n##########\n#--------#\n##########)\n\n(Tiara 1:\n- player and princess dialogue / handing tiara\n- crate pushing\n- crate floaters\n- multi-crate pushing\n)\n(Tiara 2:\n)\n(Tiara 3:\n- fire destroying path\n- fire unblocking path\n- lamp and plants on fire\n- boulder pushable, doesn't burn)\n(Tiara 4:\n- boulder sinking\n- boulder sinking over floater\n)\n(Tiara 5:\n- wolves chase humans\n- wolves throw stuff into water\n- wolves can be pushed indirectly\n- wolves stop when there's no available path\n)\n(Tiara 6:\n- Sword destroys crate\n- Sword pushes wolves, even into water\n- Blocking wolf path, they attack princess\n- Trapdoors\n)\n(Tiara7:\n- Hand Sword to Princess\n- Princess burns everything\n)";